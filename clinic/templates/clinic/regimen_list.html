{% extends "base.html" %}

{% block content %}
<nav aria-label="breadcrumb" class="mb-3">
  <ol class="breadcrumb mb-0">
    <li class="breadcrumb-item"><a href="{% url 'clinic:dashboard' %}">Dashboard</a></li>
    <li class="breadcrumb-item active" aria-current="page">Regimens</li>
  </ol>
</nav>

<div class="d-flex justify-content-between align-items-center mb-3">
  <h1 class="h4 mb-0">Regimens</h1>
  <a class="btn btn-sm btn-primary" href="{% url 'clinic:regimen_new' %}">Add Regimen</a>
</div>

<div class="alert alert-secondary" role="alert">
  <span class="t-en">A regimen is a reusable therapy template (name + components). You create it once, then assign it to a patient with start/end dates.</span>
  <span class="t-it">Un regimen è un template riutilizzabile (nome + componenti). Lo crei una volta, poi lo assegni al paziente con date inizio/fine.</span>
</div>

{% if regimens %}
  <div class="table-responsive">
    <table class="table table-sm table-striped align-middle">
      <thead class="table-light">
        <tr>
          <th>Name</th>
          <th>Line</th>
          <th>Components</th>
          <th>Notes</th>
        </tr>
      </thead>
      <tbody>
        {% for r in regimens %}
          <tr>
            <td class="fw-semibold">{{ r.name }}</td>
            <td>{{ r.line|default:"–" }}</td>
            <td>{{ r.components }}</td>
            <td>{{ r.notes|default:"–" }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <p class="text-muted">No regimens yet.</p>
{% endif %}

{% endblock %}
